<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bicicleta Aro 29 Merak 1 Azul | MasterBikes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../css/orion-futuristic.css">
    <style>
        /* Reutilizamos estilos de orion, solo ajustes mínimos */
        .custom-navbar{background:#0066cc!important;box-shadow:0 2px 5px rgba(0,0,0,0.1)}
        .custom-navbar .navbar-brand,.custom-navbar .nav-link{color:#fff!important;font-weight:500}
        .cart-badge{background:#fff!important;color:#0066cc!important}
        /* Galería */
        .product-gallery{position:relative;margin-bottom:2rem}
        .carousel-thumbnails{display:flex;justify-content:center;gap:12px;margin-top:15px}
        .carousel-thumbnail{width:80px;height:60px;border-radius:8px;cursor:pointer;object-fit:cover;opacity:.7;transition:.3s;box-shadow:0 2px 5px rgba(0,0,0,.1)}
        .carousel-thumbnail:hover{transform:translateY(-3px);box-shadow:0 5px 15px rgba(0,0,0,.2);opacity:.9}
        .carousel-thumbnail.active{opacity:1;border:2px solid #0066ff}
    </style>
</head>
<body>
    <!-- Navbar (copiada de Orion) -->
    <nav class="navbar navbar-expand-lg navbar-light custom-navbar"><div class="container"><a class="navbar-brand" href="../index.html">MasterBikes</a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNav"><ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Inicio</a></li><li class="nav-item"><a class="nav-link" href="#">Bicicletas</a></li><li class="nav-item"><a class="nav-link" href="#">Accesorios</a></li><li class="nav-item"><a class="nav-link" href="formulario.html">Contacto</a></li></ul><div class="d-flex align-items-center"><button class="btn position-relative me-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#cartOffcanvas"><i class="fas fa-shopping-cart"></i><span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-badge">0</span></button><button class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#loginModal">Iniciar Sesión</button></div></div></div></nav>
    <!-- Offcanvas Carrito -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="cartOffcanvas" aria-labelledby="cartOffcanvasLabel"><div class="offcanvas-header"><h5 class="offcanvas-title" id="cartOffcanvasLabel">Tu Carrito</h5><button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button></div><div class="offcanvas-body d-flex flex-column"><div id="cartItems" class="flex-grow-1 overflow-auto"></div><hr><div class="d-flex justify-content-between mb-3"><strong>Total</strong><span id="cartTotal">$0</span></div><a href="pago.html" class="btn btn-success w-100" id="checkoutBtn">Proceder al pago</a></div></div>
    <!-- Modal agregado -->
    <div class="modal fade" id="addedToCartModal" tabindex="-1" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="fas fa-check-circle text-success me-2"></i>Producto añadido</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="d-flex align-items-center"><img id="modalProductImg" src="" style="width:80px;height:80px;object-fit:cover" class="me-3 rounded"><div><h6 id="modalProductName" class="mb-1"></h6><p id="modalProductDetails" class="text-muted small mb-0"></p></div></div></div><div class="modal-footer"><button class="btn btn-secondary" data-bs-dismiss="modal">Seguir comprando</button><button class="btn btn-primary" id="viewCartBtn">Ver carrito</button></div></div></div></div>
    <!-- Modal Login -->
    <div class="modal fade" id="loginModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Iniciar Sesión</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><form id="loginForm"><div class="mb-3"><label class="form-label">Correo</label><input type="email" class="form-control" required></div><div class="mb-3"><label class="form-label">Contraseña</label><input type="password" class="form-control" required></div><button class="btn btn-primary w-100">Ingresar</button></form></div></div></div></div>
    <!-- Contenido del producto -->
    <section class="container py-5">
        <div class="row">
            <!-- Galería -->
            <div class="col-md-6">
                <div id="productCarousel" class="carousel slide product-gallery" data-bs-ride="carousel"><div class="carousel-inner"><div class="carousel-item active"><img src="../images/merak1_1.jpg" class="d-block w-100" alt="Merak 1"></div><div class="carousel-item"><img src="../images/merak1_2.jpg" class="d-block w-100" alt="Merak 1"></div><div class="carousel-item"><img src="../images/merak1_3.jpg" class="d-block w-100" alt="Merak 1"></div></div><button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button><button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button></div>
                <div class="carousel-thumbnails mt-3"><img src="../images/merak1_1.jpg" class="carousel-thumbnail active" data-bs-target="#productCarousel" data-bs-slide-to="0"><img src="../images/merak1_2.jpg" class="carousel-thumbnail" data-bs-target="#productCarousel" data-bs-slide-to="1"><img src="../images/merak1_3.jpg" class="carousel-thumbnail" data-bs-target="#productCarousel" data-bs-slide-to="2"></div>
            </div>
            <!-- Info -->
            <div class="col-md-6">
                <h2 id="productTitle">Oxford Merak 1 29" Azul</h2>
                <p class="h4 text-primary mb-3" id="productPrice">$259.990</p>
                <ul class="list-unstyled mb-3" id="featureList">
                    <li><i class="fas fa-check-circle text-success me-1"></i> Transmisión Shimano 21&nbsp;velocidades (3x7)</li>
                    <li><i class="fas fa-check-circle text-success me-1"></i> Cuadro de aluminio 6061</li>
                    <li><i class="fas fa-check-circle text-success me-1"></i> Horquilla con 80&nbsp;mm de recorrido</li>
                    <li><i class="fas fa-check-circle text-success me-1"></i> Frenos de disco mecánico</li>
                    <li><i class="fas fa-check-circle text-success me-1"></i> Aros 29&quot; doble pared</li>
                </ul>
                <div class="mb-3"><label class="form-label">Talla</label><select id="sizeSelect" class="form-select w-50"><option value="M">M</option><option value="L">L</option></select></div>
                <div class="mb-3"><label class="form-label">Tienda</label><select id="storeSelect" class="form-select w-50"><option value="santiago">Santiago</option><option value="lascondes">Las Condes</option></select></div>
                <p id="stockInfo" class="text-muted">Selecciona talla y tienda</p>
                <div class="input-group mb-3" style="max-width:180px"><button class="btn btn-outline-secondary" type="button" id="decreaseQuantity">-</button><input type="number" class="form-control text-center" id="quantityInput" value="1" min="1"><button class="btn btn-outline-secondary" type="button" id="increaseQuantity">+</button></div>
                <button class="btn btn-oxford me-2" id="addToCartButton"><i class="fas fa-shopping-cart me-2"></i>Agregar al carrito</button>
            </div>
        </div>
    </section>
    <!-- Sección de Opiniones de Clientes (Collapsible) -->
    <div class="container my-5">
        <div class="collapsible-section">
            <div class="collapsible-header" id="opinionsHeader">
                <h3 class="mb-0">Opiniones de Clientes</h3>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="collapsible-content" id="opinionsContent">
                <div class="row g-4">
                    <div class="col-md-4 text-center">
                        <h2 class="display-4 mb-2">4.7</h2>
                        <div class="text-warning mb-2">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                        </div>
                        <p class="mb-0">Basado en 23 opiniones</p>
                    </div>
                    <div class="col-md-8">
                        <div class="review-futuristic mb-3 p-3 rounded bg-light">
                            <h5 class="mb-1">Carlos Rodríguez <small class="text-warning ms-2"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></small></h5>
                            <p class="mb-0">Excelente bicicleta para rutas de montaña. Muy ligera y cómoda.</p>
                        </div>
                        <div class="review-futuristic mb-3 p-3 rounded bg-light">
                            <h5 class="mb-1">Ana Martínez <small class="text-warning ms-2"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i></small></h5>
                            <p class="mb-0">Buena relación calidad-precio. Los frenos podrían mejorar.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Beneficios de la tienda -->
    <section class="py-5 bg-white" id="beneficios-compra">
        <div class="container">
            <div class="row text-center row-cols-2 row-cols-md-4 g-4">
                <div class="col"><img src="../images/I_cono-Home-AjusteGratis_1.png" alt="Ajuste gratuito" height="80" class="mb-3"><h6 class="fw-bold">AJUSTE GRATUITO</h6><p class="small">Dentro de los primeros 30 días.</p></div>
                <div class="col"><img src="../images/I_cono-Home-BiciLista_1.png" alt="Lista para pedalear" height="80" class="mb-3"><h6 class="fw-bold">LISTA PARA PEDALEAR</h6><p class="small">Tu bici llega armada y ajustada.</p></div>
                <div class="col"><img src="../images/I_cono-Home-Envi_oRa_pido_1.png" alt="Envío rápido" height="80" class="mb-3"><h6 class="fw-bold">ENVÍO RÁPIDO</h6><p class="small">Despachos express.</p></div>
                <div class="col"><img src="../images/I_cono-Home-RetiroTienda2.png" alt="Retiro en tienda" height="80" class="mb-3"><h6 class="fw-bold">RETIRA EN TIENDA</h6><p class="small">Sin costo adicional.</p></div>
            </div>
        </div>
    </section>
    <!-- Características destacadas -->
    <div class="container my-5">
        <div class="row text-center g-4">
            <div class="col-md-4"><div class="feature-box p-4"><i class="fas fa-bicycle fa-3x mb-3 text-primary"></i><h4>Marco de Aluminio</h4><p>Liviano y resistente para todo terreno.</p></div></div>
            <div class="col-md-4"><div class="feature-box p-4"><i class="fas fa-cogs fa-3x mb-3 text-primary"></i><h4>Shimano 21V</h4><p>Cambia con suavidad en cualquier pendiente.</p></div></div>
            <div class="col-md-4"><div class="feature-box p-4"><i class="fas fa-mountain fa-3x mb-3 text-primary"></i><h4>Suspensión 80&nbsp;mm</h4><p>Mayor confort en caminos irregulares.</p></div></div>
        </div>
    </div>
    <!-- Especificaciones (Collapsible) -->
    <div class="container mb-5">
        <div class="collapsible-section">
            <div class="collapsible-header" id="specsHeader">
                <h3 class="mb-0">Especificaciones</h3>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="collapsible-content" id="specsContent">
                <div class="accordion" id="specsAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFrame">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFrame">Cuadro y Geometría</button>
                        </h2>
                        <div id="collapseFrame" class="accordion-collapse collapse show" data-bs-parent="#specsAccordion"><div class="accordion-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex justify-content-between"><span>Material del cuadro</span><span class="fw-bold">Aluminio 6061</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Aro</span><span class="fw-bold">29"</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Horquilla</span><span class="fw-bold">Zoom CH389, 80&nbsp;mm</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Manubrio</span><span class="fw-bold">Aluminio 680&nbsp;mm</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Tee</span><span class="fw-bold">Aluminio 31.8&nbsp;mm</span></li>
                            </ul>
                        </div></div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingComp">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseComp">Componentes</button>
                        </h2>
                        <div id="collapseComp" class="accordion-collapse collapse" data-bs-parent="#specsAccordion"><div class="accordion-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex justify-content-between"><span>Shifters</span><span class="fw-bold">Shimano EF41 3x7</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Desviador delantero</span><span class="fw-bold">Shimano TY300</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Cambio trasero</span><span class="fw-bold">Shimano TY300</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Piñón</span><span class="fw-bold">14-28&nbsp;T, 7&nbsp;vel</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Plato</span><span class="fw-bold">42/34/24&nbsp;T</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Frenos</span><span class="fw-bold">Disco mecánico 160&nbsp;mm</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Neumáticos</span><span class="fw-bold">29x2.10"</span></li>
                            </ul>
                        </div></div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingWheels">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseWheels">Ruedas</button>
                        </h2>
                        <div id="collapseWheels" class="accordion-collapse collapse" data-bs-parent="#specsAccordion"><div class="accordion-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex justify-content-between"><span>Llantas</span><span class="fw-bold">Aluminio doble pared 29"</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Mazas</span><span class="fw-bold">Acero QR</span></li>
                                <li class="list-group-item d-flex justify-content-between"><span>Rayos</span><span class="fw-bold">Acero 14&nbsp;g</span></li>
                            </ul>
                        </div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Datos de stock -->
    <script>window.stockByStoreAndSize={M:{santiago:5,lascondes:3},L:{santiago:4,lascondes:2}};</script>
    <script src="../js/cart.js" defer></script>
    <!-- Mini script para thumbnails, checkoutBtn y animaciones -->
    <script>
        document.addEventListener('DOMContentLoaded',()=>{
            // Thumbnails
            document.querySelectorAll('.carousel-thumbnail').forEach((thumb,idx)=>{
                thumb.addEventListener('click',()=>{
                    document.querySelectorAll('.carousel-thumbnail').forEach(t=>t.classList.remove('active'));
                    thumb.classList.add('active');
                });
            });
            // Checkout btn close offcanvas
            const cb=document.getElementById('checkoutBtn');const oc=bootstrap.Offcanvas.getOrCreateInstance(document.getElementById('cartOffcanvas'));if(cb)cb.addEventListener('click',()=>oc.hide());
            // Cantidad +/-
            document.getElementById('increaseQuantity').onclick=()=>{const q=document.getElementById('quantityInput');q.value=parseInt(q.value)+1};
            document.getElementById('decreaseQuantity').onclick=()=>{const q=document.getElementById('quantityInput');if(q.value>1)q.value=parseInt(q.value)-1};
            // Observer simple para feature-box
            const observer=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('animate__animated','animate__fadeInUp');observer.unobserve(e.target);}})},{threshold:.2});
            document.querySelectorAll('.feature-box').forEach(el=>observer.observe(el));
            // Collapsibles
            document.querySelectorAll('.collapsible-header').forEach(header=>{
                const icon=header.querySelector('i');
                header.addEventListener('click',()=>{
                    header.classList.toggle('active');
                    icon.classList.toggle('fa-chevron-up');
                    const content=header.nextElementSibling;
                    content.style.display=content.style.display==='block'? 'none':'block';
                });
            });
        });
    </script>
</body>
</html>